{% extends 'base.html' %}
{% block content %}
<!DOCTYPE html>
<html>
  <body>
<head>
<h1>Property Search</h1>
 <style type="text/css">
    #autocomplete
    {
    position:absolute;
    min-width:40%;
    height:4%;
    top:31%;
    right:50%;
    z-index:10;
    /*background-color:#CCC;
    border: 1px solid grey;*/
    }   
</style>
</head>


<form action='/search'>
    <a href="?search_type=zipcode">Search By Zipcode</a><br>
    <a href="?search_type=address">Search By Address</a><br>
    <a href="?search_type=city">Search By City</a><br>

    {% for allowed_field in allowed_fields %}
           
        {{ allowed_field.capitalize() }} <input id="autocomplete" type="text", name={{ allowed_field }}><br>
        
    {% endfor %}
    <br>
    <br>
    <br>
    <div id="filter">
        {% if search_type != 'address' %}
            Filters:<br>
            Property Type: 
            <select name="property_type">
              <option value="">Not Selected</option>
              <option value="SFR">Single Family</option>
              <option value="apartment">Apartment</option>
              <option value="TOWNHOUSE%2FROWHOUSE">Townhouse/Rowhouse</option>
              <option value="CONDOMINIUM">Condominium</option>
            </select><br>
           
            Minimum of bedrooms: <input type="number", name="min_no_bed">
            Maximum of bedrooms: <input type="number", name="max_no_bed"><br>
           
            Minimum of bathrooms: <input type="number", name="min_no_bath">
            Maximum of bathrooms: <input type="number", name="max_no_bath"><br>
            Search transactions from: <input type="date", name="trans_date_from">
            to: <input type="date", name="trans_date_to"><br>
            Price range from: <input type="number", name="price_from">
            to: <input type="number", name="price_to"><br>
            
        {% endif %}
    </div>

    <input type="submit" name="Submit" value="Search">

    <br>
    <br>
    <br>
    <br>
    <button type="reset", name='reset'> Reset
    


</form>
{% if search_type != 'zipcode' %}
<script>
      function initMap() {  
        autocomplete = new google.maps.places.Autocomplete(
                document.getElementById('autocomplete')), {
              componentRestrictions: {country : "US"}
            };
        console.log(autocomplete);
      }

    </script>
    <script src="https://maps.googleapis.com/maps/api/js?libraries=places&callback=initMap"
        async defer></script>
{% endif %}

  </body>
</html>



{% endblock %}
